<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ASS/SSA to SRT Subtitles Converter</title>
    <link href="index.css" rel="stylesheet">
  </head>
  <body>
    <h1><abbr title="Advanced SubStation Alpha">ASS</abbr> /
      <abbr title="SubStation Alpha">SSA</abbr> to
      <abbr title="SubRip">SRT</abbr> Subtitles Converter</h1>
    <p>Only support for those newer browsers.
      You can <a href="https://lab.sorz.org/tools/asstosrt/">try this</a>
      if you have problem with it.</p>

    <form ondrop="onDrop(event);" ondragover="onDropOver(event);"
        ondragend="onDropEnd(event);">
      <h2>Settings</h2>
      <details><summary>Show encodings, lines, zip, etc.</summary>
      <p><label for="in-charset">ASS Encoding</label>
        <input type="text" id="in-charset" list="charsets"
          placeholder="auto detect"></p>
      <p><label for="out-charset">SRT Encoding</label>
        <input type="text" id="out-charset" list="charsets"
          placeholder="no change"></p>
      <p><label for="ignore-codec-err">Ignore encoding errors</label>
        <input type="checkbox" id="ignore-codec-err"></p>
      <p><label for="conv-dict">Chinese convert</label>
        <select id="conv-dict">
          <option value="" selected>disabled</option>
          <option value="t2s.txt">to Simplified</option>
          <option value="s2t.txt">to Traditional</option>
        </select>
      <p><label for="lines">Lines</label>
        <select id="lines">
          <option value="All" selected>keep all</option>
          <option value="First">first line only</option>
          <option value="Last">last line only</option>
        </select>
      <p><label for="offset">Offset seconds</label>
        <input id="offset" type="number" placeholder="0.0" step="0.1"></p>
      <p><label for="no-zip">Don't archive files into single zip</label>
        <input type="checkbox" id="no-zip"></p>
      </details>

      <h2>Drop ASS/SSA Files</h2>
      <p>Drag &amp; drop to here; or
      <input type="file" id="files" multiple>
      <p>Select/drop multiple files at once for bulk processing.</p>

      <datalist id="charsets">
        <option label="Unicode (UTF-8)" value="utf-8">
        <option label="Unicode (UTF-16)" value="utf-16">
        <option label="Simplified Chinese (GB18030)" value="gb18030">
        <option label="Traditional Chinese (Big5)" value="big5">
        <option label="Japanese (Shift-JIS)" value="shift-jis">
      </datalist>
    </form>

    <h2>Save SRT Files</h2>
    <ul id="list">
    </ul>
    <template id="file">
      <li class="file progress">
          <span class="name"></span>
          <span class="status"></span>
          <a class="close" title="Close" href="#">‚ùå</a>
          <a class="save">üíæ SAVE</a>
      </li>
    </template>

    <div id="vote" style="display: none;">
      Like it?
      <a id="like" href="https://stat.sorz.org/asstosrt/like" title="Send me a like">
        <!-- https://commons.wikimedia.org/wiki/File:Heart_icon_red_hollow.svg -->
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
          <g transform="matrix(-0.0293501,0,0,0.0293501,15.348787,1.4134769)">
            <g class="heart" stroke="#f00" stroke-width="20" fill="none">
              <path d="M140,20C 73,20 20,74 20,140 20,275 156,310 248,443
                336,311 477,270 477,140 477,74 423,20 357,20 309,20 267,48
                248,89 229,48 188,20 140,20Z" />
            </g>
          </g>
        </svg>
      </a>
    </div>

    <footer>
      <p>Your file would NOT be uploaded to anywhere.</p>
      <p>Powered by <a href="https://www.rust-lang.org/"
                       title="The Rust Programming Language">Rust</a>
        and a set of lovely open-source projects.</p>
      <p>Source code is avaiable on
        <a href="https://github.com/sorz/asstosrt-wasm">GitHub</a>.</p>
    </footer>
    <script src="index.js"></script>
  </body>
</html>
